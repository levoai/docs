"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[101],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),m=i,h=d["".concat(s,".").concat(m)]||d[m]||p[m]||a;return n?r.createElement(h,o(o({ref:t},u),{},{components:n})):r.createElement(h,o({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var c=2;c<a;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},487:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return u},default:function(){return d}});var r=n(7462),i=n(3366),a=(n(7294),n(3905)),o=["components"],l={sidebar_position:5},s="The Environment YAML file",c={unversionedId:"levo-cli/levo-cli-environment-file",id:"levo-cli/levo-cli-environment-file",isDocsHomePage:!1,title:"The Environment YAML file",description:"What is it?",source:"@site/docs/levo-cli/levo-cli-environment-file.md",sourceDirName:"levo-cli",slug:"/levo-cli/levo-cli-environment-file",permalink:"/levo-cli/levo-cli-environment-file",editUrl:"https://github.com/levoai/docs/edit/main/docs/levo-cli/levo-cli-environment-file.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Levo CLI for Windows",permalink:"/levo-cli/levo-cli-for-windows"},next:{title:"Levo CLI Command Reference",permalink:"/levo-cli/levo-cli-command-reference"}},u=[{value:"What is it?",id:"what-is-it",children:[],level:2},{value:"Are my <code>secrets</code> sent to Levo SaaS?",id:"are-my-secrets-sent-to-levo-saas",children:[],level:2},{value:"How do I use it?",id:"how-do-i-use-it",children:[{value:"Which CLI commands take this file as an argument?",id:"which-cli-commands-take-this-file-as-an-argument",children:[],level:3},{value:"What is the structure of this autogenerated file?",id:"what-is-the-structure-of-this-autogenerated-file",children:[{value:"The API being tested has <em><code>no</code></em> granular role or scope information",id:"the-api-being-tested-has-no-granular-role-or-scope-information",children:[],level:4}],level:3},{value:"The API being tested has granular role or scope information",id:"the-api-being-tested-has-granular-role-or-scope-information",children:[],level:3}],level:2}],p={toc:u};function d(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"the-environment-yaml-file"},"The Environment YAML file"),(0,a.kt)("h2",{id:"what-is-it"},"What is it?"),(0,a.kt)("p",null,"Levo's autogenerated Test Plans, evaluate API vulnerabilities related to ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Privilege_escalation#Horizontal"},(0,a.kt)("inlineCode",{parentName:"a"},"Horizontal Authorization Abuse")),", and ",(0,a.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Privilege_escalation#Vertical"},(0,a.kt)("inlineCode",{parentName:"a"},"Vertical Authorization Abuse")),"."),(0,a.kt)("p",null,"In order to effectively access and test APIs for these vulnerabilities, Levo requires user ",(0,a.kt)("inlineCode",{parentName:"p"},"authentication")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"role")," information."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"environment.yaml")," file is a convenient way to for development teams to provide this information in a secure, and structured manner."),(0,a.kt)("h2",{id:"are-my-secrets-sent-to-levo-saas"},"Are my ",(0,a.kt)("inlineCode",{parentName:"h2"},"secrets")," sent to Levo SaaS?"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"environment.yaml")," file contains ",(0,a.kt)("inlineCode",{parentName:"p"},"secrets")," and is ",(0,a.kt)("strong",{parentName:"p"},"never")," sent to, or stored in Levo SaaS. This file is solely consumed by the CLI, and Levo SaaS does not have access to your secrets."),(0,a.kt)("p",null,"Please treat this file securely, and take all precautions necessary for handling secrets."),(0,a.kt)("h2",{id:"how-do-i-use-it"},"How do I use it?"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"environment.yaml")," file is autogenerated per ",(0,a.kt)("inlineCode",{parentName:"p"},"Test Plan"),", and needs to be completed with appropriate authentication/role information, prior to the execution of the Test Plan."),(0,a.kt)("p",null,"The completed file is provided as an argument to the CLI. The CLI uses the credentials to access the target APIs and evaluate their authentication and authorization posture."),(0,a.kt)("h3",{id:"which-cli-commands-take-this-file-as-an-argument"},"Which CLI commands take this file as an argument?"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"levo test")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"levo test-plan run")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"levo test-conformance")," (Not currently available, coming soon.)")),(0,a.kt)("h3",{id:"what-is-the-structure-of-this-autogenerated-file"},"What is the structure of this autogenerated file?"),(0,a.kt)("p",null,"Based on the nature of your APIs, the file may require credentials for at least two users. If your APIs have a lot of roles/scopes, credentials for additional users (for each role) maybe be required."),(0,a.kt)("h4",{id:"the-api-being-tested-has-no-granular-role-or-scope-information"},"The API being tested has ",(0,a.kt)("em",{parentName:"h4"},(0,a.kt)("inlineCode",{parentName:"em"},"no"))," granular role or scope information"),(0,a.kt)("p",null,"If the API endpoints you are testing have no role or scope information (used for granular authorization), then autogenerated file will have the below structures (based on your authentication type preference)."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"I can provide bearer tokens for authentication:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"identity:\n  default:\n    - bearer-token: \n  attacker:\n    - bearer-token: \n")),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"default")," specifies credentials for the default user, that is used in most of the API testing. The ",(0,a.kt)("inlineCode",{parentName:"p"},"attacker")," specifies credentials for another user (at the same role level as ",(0,a.kt)("inlineCode",{parentName:"p"},"default"),"), and is used in ",(0,a.kt)("a",{parentName:"p",href:"../issues/vulnerabilities/IDOR"},(0,a.kt)("inlineCode",{parentName:"a"},"horizontal privilege escalation"))," tests."),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"if want to specify an ",(0,a.kt)("inlineCode",{parentName:"li"},"endpoint")," that authenticates using ",(0,a.kt)("inlineCode",{parentName:"li"},"username")," & ",(0,a.kt)("inlineCode",{parentName:"li"},"password"),":")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"This is coming soon.\n")),(0,a.kt)("h3",{id:"the-api-being-tested-has-granular-role-or-scope-information"},"The API being tested has granular role or scope information"),(0,a.kt)("p",null,"This capability is currently not available and is coming soon"))}d.isMDXComponent=!0}}]);