"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9056],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return m}});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},k={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(a),m=n,c=d["".concat(s,".").concat(m)]||d[m]||k[m]||i;return a?r.createElement(c,o(o({ref:t},u),{},{components:a})):r.createElement(c,o({ref:t},u))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var p=2;p<i;p++)o[p]=a[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},7256:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return k}});var r=a(3117),n=a(102),i=(a(7294),a(3905)),o=["components"],l={sidebar_position:8,description:"Learn how to deploy Levo.ai Akamai Edge Worker with our step-by-step guide to enhance API traffic capture and analysis."},s="Akamai Edge Worker",p={unversionedId:"install-traffic-capture-sensors/akamai-edge-worker",id:"install-traffic-capture-sensors/akamai-edge-worker",title:"Akamai Edge Worker",description:"Learn how to deploy Levo.ai Akamai Edge Worker with our step-by-step guide to enhance API traffic capture and analysis.",source:"@site/docs/install-traffic-capture-sensors/akamai-edge-worker.md",sourceDirName:"install-traffic-capture-sensors",slug:"/install-traffic-capture-sensors/akamai-edge-worker",permalink:"/install-traffic-capture-sensors/akamai-edge-worker",draft:!1,editUrl:"https://github.com/levoai/docs/edit/main/docs/install-traffic-capture-sensors/akamai-edge-worker.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8,description:"Learn how to deploy Levo.ai Akamai Edge Worker with our step-by-step guide to enhance API traffic capture and analysis."},sidebar:"tutorialSidebar",previous:{title:"Azure API Management",permalink:"/install-traffic-capture-sensors/azure-api-management"},next:{title:"Manage Sensor Configuration",permalink:"/install-traffic-capture-sensors/common-tasks/sensor-configuration"}},u={},k=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Deploying the Edge Worker",id:"deploying-the-edge-worker",level:2},{value:"Using the CLI",id:"using-the-cli",level:3},{value:"1. Setup Akamai CLI and Edge Workers",id:"1-setup-akamai-cli-and-edge-workers",level:4},{value:"2. Create Edge Worker ID",id:"2-create-edge-worker-id",level:4},{value:"3. Setup EdgeWorker",id:"3-setup-edgeworker",level:4},{value:"4. Adding EdgeWorker Behavior to Your Akamai Property",id:"4-adding-edgeworker-behavior-to-your-akamai-property",level:4}],d={toc:k};function m(e){var t=e.components,a=(0,n.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"akamai-edge-worker"},"Akamai Edge Worker"),(0,i.kt)("p",null,"Deploying the Levo.ai Akamai Edge Worker enables advanced API traffic capture and analysis, ensuring seamless integration with your Akamai-powered setup. This guide walks you through the prerequisites, deployment, and configuration of the Edge Worker."),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("p",null,"Before deploying the Edge Worker, ensure the following requirements are met:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Akamai DNS Configuration:")," Your website\u2019s DNS must be managed through Akamai."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Permissions:")," Ensure you have sufficient permissions on Akamai to create and configure edge workers for your property."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Levo Satellite Setup:")," ",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Confirm that the Levo Satellite is set up and is accessible via HTTPS from the EdgeWorker."),(0,i.kt)("li",{parentName:"ul"},"Ensure that the Satellite's domain is served through Akamai platform by configuring an A record or a CNAME in Akamai's DNS settings."),(0,i.kt)("li",{parentName:"ul"},"Refer to the ",(0,i.kt)("a",{parentName:"li",href:"/install-satellite"},"Satellite Installation Guide")," for levo.ai satellite setup instructions and ",(0,i.kt)("a",{parentName:"li",href:"https://techdocs.akamai.com/cloud-computing/docs/manage-dns-records"},"Manage DNS Records")," for DNS configuration in Akamai."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Organization ID:")," Obtain your Organization ID from Levo dashboard. Refer to ",(0,i.kt)("a",{parentName:"li",href:"/integrations/common-tasks#accessing-organization-ids"},"Accessing Organization ID")," for details.")),(0,i.kt)("h2",{id:"deploying-the-edge-worker"},"Deploying the Edge Worker"),(0,i.kt)("h3",{id:"using-the-cli"},"Using the CLI"),(0,i.kt)("p",null,"Follow the steps below to deploy the EdgeWorker using the CLI."),(0,i.kt)("h4",{id:"1-setup-akamai-cli-and-edge-workers"},"1. Setup Akamai CLI and Edge Workers"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Install Akamai CLI"),":",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Ensure you have installed ",(0,i.kt)("a",{parentName:"li",href:"https://techdocs.akamai.com/edgeworkers/docs/akamai-cli"},"Akamai CLI"),".",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"On Windows you may need to add ",(0,i.kt)("inlineCode",{parentName:"li"},"akamai.exe")," location to ",(0,i.kt)("inlineCode",{parentName:"li"},"Path")," environment variable."))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Install EdgeWorker CLI"),":",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Run this command to install the EdgeWorkers CLI ",(0,i.kt)("inlineCode",{parentName:"li"},"akamai install edgeworkers"),"."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Set Up Authentication"),":",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Ensure you have required authentication credentials (e.g., access token and client secret), available on Akamai's ",(0,i.kt)("strong",{parentName:"li"},"Identity & Access Management")," page."),(0,i.kt)("li",{parentName:"ul"},"For detailed instructions, refer to ",(0,i.kt)("a",{parentName:"li",href:"https://techdocs.akamai.com/developer/docs/set-up-authentication-credentials"},"Akamai Setup Authentication Credentials"),".")))),(0,i.kt)("h4",{id:"2-create-edge-worker-id"},"2. Create Edge Worker ID"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Navigate to ",(0,i.kt)("strong",{parentName:"li"},"CDN")," > ",(0,i.kt)("strong",{parentName:"li"},"EdgeWorkers")," in the Akamai control center."),(0,i.kt)("li",{parentName:"ul"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Create EdgeWorker ID")," and fill in the required details:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Name for EdgeWorker ID"),(0,i.kt)("li",{parentName:"ul"},"Resource Tier"),(0,i.kt)("li",{parentName:"ul"},"other details before "))),(0,i.kt)("li",{parentName:"ul"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Create"),"."),(0,i.kt)("li",{parentName:"ul"},"For more details, refer to ",(0,i.kt)("a",{parentName:"li",href:"https://techdocs.akamai.com/edgeworkers/docs/create-an-edgeworker-id"},"Create Akamai Edge Worker ID"),".")),(0,i.kt)("h4",{id:"3-setup-edgeworker"},"3. Setup EdgeWorker"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Clone the EdgeWorker repository ",(0,i.kt)("inlineCode",{parentName:"li"},"git clone https://github.com/levoai/akamai-worker.git"),"."),(0,i.kt)("li",{parentName:"ul"},"Navigate into the repository ",(0,i.kt)("inlineCode",{parentName:"li"},"cd akamai-worker"),"."),(0,i.kt)("li",{parentName:"ul"},"Copy the example environment file ",(0,i.kt)("inlineCode",{parentName:"li"},"cp .env.example .env")),(0,i.kt)("li",{parentName:"ul"},"Configure the following environment variables in the .env file:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"AKAMAI_WORKER_ID")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"AKAMAI_WORKER_NETWORK")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"AKAMAI_WORKER_VERSION_INCREMENT")," (optional)"))),(0,i.kt)("li",{parentName:"ul"},"Prepare the EdgeWorker for deployment ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn worker:version:prepare")," which increments version."),(0,i.kt)("li",{parentName:"ul"},"Deploy and activate the EdgeWorker ",(0,i.kt)("inlineCode",{parentName:"li"},"yarn worker:version:deploy")," which uploads and activates the code bundle.")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Note: ",(0,i.kt)("inlineCode",{parentName:"p"},"\\src\\bundle.json")," contains bundle metadata.")),(0,i.kt)("h4",{id:"4-adding-edgeworker-behavior-to-your-akamai-property"},"4. Adding EdgeWorker Behavior to Your Akamai Property"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Login int to Akamai control center."),(0,i.kt)("li",{parentName:"ul"},"Navigate to ",(0,i.kt)("strong",{parentName:"li"},"CDN")," > ",(0,i.kt)("strong",{parentName:"li"},"Properties")," from left-hand menu."),(0,i.kt)("li",{parentName:"ul"},"Select the property you want to configure and click ",(0,i.kt)("strong",{parentName:"li"},"Edit New Version"),"."),(0,i.kt)("li",{parentName:"ul"},"Under ",(0,i.kt)("strong",{parentName:"li"},"Property Variables"),", add following variables.",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"LEVO_SATELLITE_URL")," - The URL of the Satellite where the traffic will be sent."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"LEVO_ORG_ID")," - Your organization ID."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"LEVO_ENV")," - The desired environment name. Optional, default is ",(0,i.kt)("inlineCode",{parentName:"li"},"staging"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"LEVO_SERVICE_NAME")," - The name of the service you are monitoring. Optional.",(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"  ",(0,i.kt)("strong",{parentName:"p"},"Note:")," These variables are prefixed with ",(0,i.kt)("strong",{parentName:"p"},"PMUSER_")," in this section. "))))),(0,i.kt)("li",{parentName:"ul"},"Under ",(0,i.kt)("strong",{parentName:"li"},"Property Configuration Settings"),", go to > ",(0,i.kt)("strong",{parentName:"li"},"Rules")," > ",(0,i.kt)("strong",{parentName:"li"},"Behaviors"),", and:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Enable ",(0,i.kt)("strong",{parentName:"li"},"EdgeWorkers")," behavior."),(0,i.kt)("li",{parentName:"ul"},"Select the appropriate EdgeWorker ID."))),(0,i.kt)("li",{parentName:"ul"},"Save your changes and activate the property for Staging and/or Production.")),(0,i.kt)("hr",null),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"That's it!")),(0,i.kt)("p",null,"Your EdgeWorker is now deployed and integrated with your Akamai property. Monitor and analyse your API traffic using the Levo.ai platform. For further support, feel free to reach out to the Levo.ai team at ",(0,i.kt)("a",{parentName:"p",href:"mailto:support@levo.ai"},"support@levo.ai"),"."))}m.isMDXComponent=!0}}]);