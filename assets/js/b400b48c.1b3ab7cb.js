"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6055],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return m}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=i,k=d["".concat(s,".").concat(m)]||d[m]||c[m]||a;return n?r.createElement(k,o(o({ref:t},p),{},{components:n})):r.createElement(k,o({ref:t},p))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var u=2;u<a;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},735:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var r=n(3117),i=n(102),a=(n(7294),n(3905)),o=["components"],l={sidebar_position:1},s="Test Runner",u={unversionedId:"security-testing/testrunner",id:"security-testing/testrunner",title:"Test Runner",description:"Levo provides you with the ability to run security tests on your Application endpoints.",source:"@site/docs/security-testing/testrunner.md",sourceDirName:"security-testing",slug:"/security-testing/testrunner",permalink:"/security-testing/testrunner",draft:!1,editUrl:"https://github.com/levoai/docs/edit/main/docs/security-testing/testrunner.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Running Tests from Catalog",permalink:"/security-testing/catalog-tests"},next:{title:"GitHub Action",permalink:"/security-testing/github-action"}},p={},c=[{value:"Installation",id:"installation",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Install testrunner via helm on Kubernetes",id:"install-testrunner-via-helm-on-kubernetes",level:3},{value:"Install testrunner via Docker",id:"install-testrunner-via-docker",level:3},{value:"Get Authorization token and Orgnaization ID",id:"get-authorization-token-and-orgnaization-id",level:3}],d={toc:c};function m(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"test-runner"},"Test Runner"),(0,a.kt)("p",null,"Levo provides you with the ability to run security tests on your Application endpoints."),(0,a.kt)("p",null,"With Levo you can run security tests"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"on Cloud"),(0,a.kt)("li",{parentName:"ul"},"on Premises")),(0,a.kt)("p",null,"To run security tests we need three things"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"A target service URL which should be reachable"),(0,a.kt)("li",{parentName:"ul"},"Valid configuration for authenticated endpoints"),(0,a.kt)("li",{parentName:"ul"},"Valid API endpoint parameters")),(0,a.kt)("p",null,"If the target service is publicly reachable, tests can be run directly from Levo Cloud"),(0,a.kt)("p",null,"But if you want to test some internal services which are not publicly reachable, you can use the ",(0,a.kt)("strong",{parentName:"p"},"testrunner"),"."),(0,a.kt)("p",null,"The testrunner can be installed in your premise."),(0,a.kt)("p",null,"Once you start security tests from the UI, the testrunner will pull those tests and execute them in your premise.\nThis way if you want to test internal APIs, you can install our testrunner service."),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"installation"},"Installation"),(0,a.kt)("p",null,"You can install the testrunner"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#install-testrunner-via-helm-on-kubernetes"},"via helm in Kubernetes environment")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"#install-testrunner-via-docker"},"via docker"))),(0,a.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"You will need an authorization token and the organization-id for which you want to run security tests"),(0,a.kt)("li",{parentName:"ul"},"Either helm or docker installed based on the installation process.",(0,a.kt)("br",null))),(0,a.kt)("h3",{id:"install-testrunner-via-helm-on-kubernetes"},"Install testrunner via helm on Kubernetes"),(0,a.kt)("p",null,"To get the authorization token and organization-id, follow instructions ",(0,a.kt)("a",{parentName:"p",href:"#get-authorization-token-and-orgnaization-id"},"here")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Add Levo Helm repo")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"helm repo add levoai https://levoai.github.io/helm-charts/\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Run following command to install testrunner helm chart")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'helm install \\\n--set key="auth-key" \\\n--set orgId="organization id" \\\n--set levoBaseUrl="https://api.levo.ai" \\\ntestrunner levoai/testrunner\n')),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Depending on the region your apps are in, you may need to set a different Levo base URL."),(0,a.kt)("p",{parentName:"admonition"},"For example, if the testrunner will be used with ",(0,a.kt)("inlineCode",{parentName:"p"},"app.india-1.levo.ai"),", use the following alias:"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'helm install \\\n--set key="auth-key" \\\n--set orgId="organization id" \\\n--set levoBaseUrl="https://api.india-1.levo.ai" \\\ntestrunner levoai/testrunner\n'))),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"install-testrunner-via-docker"},"Install testrunner via Docker"),(0,a.kt)("p",null,"To get the authorization token and organization-id, follow instructions ",(0,a.kt)("a",{parentName:"p",href:"#get-authorization-token-and-orgnaization-id"},"here")),(0,a.kt)("p",null,"If you have docker running on your machine, you can start the testrunner with a simple ",(0,a.kt)("inlineCode",{parentName:"p"},"docker run")," command"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir -p $HOME/.config/configstore\n\xa0\nalias levo='docker run --rm \\\n    --add-host=host.docker.internal:`ip route|awk '\\''/docker0/ { print $9 }'\\''` \\\n    --mount type=bind,source=$HOME/.config/configstore,target=/home/levo/.config/configstore \\\n    -v $HOME/.aws:/home/levo/.aws \\\n    -v $PWD:/home/levo/work:rw \\\n    -e LOCAL_USER_ID=$(id -u) \\\n    -e LOCAL_GROUP_ID=$(id -g) \\\n    -e LEVO_BASE_URL=https://api.levo.ai \\\n    -e TERM=xterm-256color \\\n    -ti levoai/levo:stable'\n\nlevo start --key \"auth-key\" --organization \"orgId\"\n")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Depending on the region your apps are in, you may need to set a different Levo base URL."),(0,a.kt)("p",{parentName:"admonition"},"For example, if the testrunner will be used with ",(0,a.kt)("inlineCode",{parentName:"p"},"app.india-1.levo.ai"),", use the following alias:"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"alias levo='docker run --rm \\\n    --add-host=host.docker.internal:`ip route|awk '\\''/docker0/ { print $9 }'\\''` \\\n    --mount type=bind,source=$HOME/.config/configstore,target=/home/levo/.config/configstore \\\n    -v $HOME/.aws:/home/levo/.aws \\\n    -v $PWD:/home/levo/work:rw \\\n    -e LOCAL_USER_ID=$(id -u) \\\n    -e LOCAL_GROUP_ID=$(id -g) \\\n    -e LEVO_BASE_URL=https://api.india-1.levo.ai \\\n    -e TERM=xterm-256color \\\n    -ti levoai/levo:stable'\n"))),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"get-authorization-token-and-orgnaization-id"},"Get Authorization token and Orgnaization ID"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://app.levo.ai/login"},"Login")," to  Levo.ai"),(0,a.kt)("p",null,"To get the authorization token"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Click on User Settings"),(0,a.kt)("li",{parentName:"ul"},"Click on Keys on the left navigation panel"),(0,a.kt)("li",{parentName:"ul"},"Click on Get CLI Authorization Key")),(0,a.kt)("p",null,"To get the Organization ID"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Click on User Settings"),(0,a.kt)("li",{parentName:"ul"},"Click on Organizations on the left navigation panel"),(0,a.kt)("li",{parentName:"ul"},"Click on Copy for whichever organization you want to run tests for")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"If you are an India Customer ",(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"https://app.india-1.levo.ai/login"},"India Login")," for  Levo.ai")))}m.isMDXComponent=!0}}]);